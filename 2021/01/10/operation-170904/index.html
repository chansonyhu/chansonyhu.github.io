<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>运维2017.9.4 | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="ufwufw enable之后一定要打开ssh端口！！ufw open a range of ports:ufw allow 11200:11299&#x2F;tcp  And don’t forget ufw reload  moshTwo major problems：ssh_exchange_identification: Connection closed by remote host非默认端口需">
<meta property="og:type" content="article">
<meta property="og:title" content="运维2017.9.4">
<meta property="og:url" content="http://example.com/2021/01/10/operation-170904/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="ufwufw enable之后一定要打开ssh端口！！ufw open a range of ports:ufw allow 11200:11299&#x2F;tcp  And don’t forget ufw reload  moshTwo major problems：ssh_exchange_identification: Connection closed by remote host非默认端口需">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2021-01-10T05:33:58.916Z">
<meta property="article:modified_time" content="2021-01-10T05:33:58.916Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-operation-170904" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/01/10/operation-170904/" class="article-date">
  <time class="dt-published" datetime="2021-01-10T05:33:58.916Z" itemprop="datePublished">2021-01-10</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/operations/">operations</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      运维2017.9.4
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <ol>
<li>ufw<br>ufw enable<br>之后一定要打开ssh端口！！<br>ufw open a range of ports:<br>ufw allow 11200:11299/tcp</li>
</ol>
<p>And don’t forget ufw reload</p>
<ol start="2">
<li>mosh<br>Two major problems：<br>ssh_exchange_identification: Connection closed by remote host<br>非默认端口需要按一下命令执行：<br>mosh –ssh=”ssh -p 8022” <a href="mailto:&#114;&#x6f;&#111;&#x74;&#x40;&#99;&#x64;&#x73;&#46;&#x79;&#x75;&#113;&#x69;&#97;&#110;&#x73;&#x68;&#x61;&#x6e;&#x2e;&#99;&#111;&#x6d;">&#114;&#x6f;&#111;&#x74;&#x40;&#99;&#x64;&#x73;&#46;&#x79;&#x75;&#113;&#x69;&#97;&#110;&#x73;&#x68;&#x61;&#x6e;&#x2e;&#99;&#111;&#x6d;</a></li>
</ol>
<p>The locale requested by LC_CTYPE=UTF-8 isn’t available here.<br>需要保持server和client的LC_ALL, LANG一致<br>将以下代码加入mac的.zshrc中即可：<br>export LC_ALL=en_US.UTF-8<br>export LANG=en_US.UTF-8</p>
<p>（最终需要source .zshrc）</p>
<ol start="3">
<li>ssh-keygen -t rsa<br><a target="_blank" rel="noopener" href="http://blog.csdn.net/leexide/article/details/17252369">http://blog.csdn.net/leexide/article/details/17252369</a><br>ssh-keygen -t rsa<br>scp id_rsa.pub <a href="mailto:&#x72;&#111;&#111;&#x74;&#x40;&#x31;&#x39;&#50;&#46;&#x31;&#x36;&#56;&#46;&#x31;&#x2e;&#52;">&#x72;&#111;&#111;&#x74;&#x40;&#x31;&#x39;&#50;&#46;&#x31;&#x36;&#56;&#46;&#x31;&#x2e;&#52;</a>:<del>/.ssh/authorized_keys<br>ipv6:<br>scp -6 id_rsa.pub qianshan@[2402:f000:1:5003:c1bb:6e61:d4e:acd8]:</del>/.ssh/authorized_key</li>
</ol>
<p>cat /etc/hosts<br>192.168.1.2 Server1<br>192.168.1.3 Server2<br>192.168.1.4 Server3</p>
<p>ssh Server3</p>
<ol start="4">
<li><p>ohmyzsh<br>注意passwd文件的改动，可能会导致无法登陆<br>先安装zsh (apt-get等)<br>然后wget <a target="_blank" rel="noopener" href="https://github.com/robbyrussell/oh-my-zsh/raw/master/tools/install.sh">https://github.com/robbyrussell/oh-my-zsh/raw/master/tools/install.sh</a> -O - | sh<br>切换zsh: chsh -s /usr/local/bin/zsh (chsh -s which zsh)<br>theme: 修改.zshrc (ZSH_THEME=”bira”)<br>source:<br><a target="_blank" rel="noopener" href="http://yijiebuyi.com/blog/b9b5e1ebb719f22475c38c4819ab8151.html">http://yijiebuyi.com/blog/b9b5e1ebb719f22475c38c4819ab8151.html</a></p>
</li>
<li><p>sshd_config<br><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000000481249">https://segmentfault.com/a/1190000000481249</a><br><a target="_blank" rel="noopener" href="http://blog.csdn.net/lansesl2008/article/details/16113193">http://blog.csdn.net/lansesl2008/article/details/16113193</a></p>
</li>
<li><p>smbmount<br><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000002548622">https://segmentfault.com/a/1190000002548622</a></p>
</li>
<li><p>ftp<br>FTP Issue - Failed to retrieve directory listing<br>Solution:<br>This happens when you have firewall configured and have kept only port 20 and 21 opened. Change the FTP client to connect using Active or the PORT method and you will be able to connect to the FTP and retrieve the directory listing. Or else you can try after disabling the firewall.<br>Passive对应其他端口，需要打开或者关闭防火墙。</p>
</li>
</ol>
<p>550 Failed to change directory.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/01/10/operation-170904/" data-id="ckjqproxt000c5e9kceygbo8k" data-title="运维2017.9.4" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2021/01/10/multiprocessing/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Python多进程库遇到信号signal死锁问题
        
      </div>
    </a>
  
  
    <a href="/2021/01/10/template/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Template</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/formal-verification/">formal verification</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/misc/">misc</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/operations/">operations</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/tex/">tex</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/uncategorized/">uncategorized</a></li></ul>
    </div>
  </div>


  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/01/10/labs/">Labs in the area of verification</a>
          </li>
        
          <li>
            <a href="/2021/01/10/thu-network/">清华上网不完全指南</a>
          </li>
        
          <li>
            <a href="/2021/01/10/2021-01-10-1/">shadowsocks</a>
          </li>
        
          <li>
            <a href="/2021/01/10/warehouse/">(no title)</a>
          </li>
        
          <li>
            <a href="/2021/01/10/2021-01-10/">IPv4环境下访问北邮人</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>